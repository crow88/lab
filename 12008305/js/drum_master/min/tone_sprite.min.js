"use strict";define([window.Game.js_url_list.tone,window.Game.js_url_list.const,window.Game.js_url_list.util],function(t,i,e){var s=window.createjs,n=function(t,e,n){this.originType="tone",this.type=t,this.stage=e,this.state="Wait",this.sprite=new s.Bitmap(n.toneDom[this.type]),this.sprite.scaleX=i.NORMAL_SCALE,this.sprite.scaleY=i.NORMAL_SCALE,this.sprite.regX=i.NORMAL_TONE_HALF_SIZE,this.sprite.regY=i.NORMAL_TONE_HALF_SIZE,this.sprite.x=i.NORMAL_START,this.sprite.y=i.GOAL_Y,this.use_combo=!1,this.judge=[],this.judge[i.DECISION_KEY.excellent]=[],this.judge[i.DECISION_KEY.good]=[],this.judge[i.DECISION_KEY.bad]=[]},h=n.prototype;return h.setXposition=function(t){this.sprite.x=t,this.show()},h.getXposition=function(){return this.sprite.x},h.show=function(){this.stage.addChild(this.sprite)},h.hide=function(){this.stage.removeChild(this.sprite)},h.setZindex=function(t){this.stage.setChildIndex(this.sprite,t)},h.getTailXposition=function(){return null},h.update=function(t){var i=e.calculate(this.note.time,t);return this.afterMath(i,t)},h.delayUpdate=function(t,i){var e=this.getXposition()-t;return this.afterMath(e,i)},h.afterMath=function(t,e){var s=i.NOTING;return t<i.END_POINT?s=i.END_TONE:this.use_combo&&this.note.state!=i.State.Catch&&e>this.judge[i.DECISION_KEY.bad][i.DECISION_UO.over]?(s=i.DELETE_COMBO,this.note.state=i.State.Miss,this.sprite.x=t):this.sprite.x=t,s},n});